// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: query_chat.sql

package q

import (
	"context"
	"database/sql"
)

const createNewChatDefaultCfg = `-- name: CreateNewChatDefaultCfg :one
INSERT INTO chat_cfg (id, auto_cvt_bili, auto_ocr, auto_calculate, auto_exchange, auto_check_adult,
                      save_messages, enable_coc, resp_nsfw_msg)
VALUES (?,
        FALSE,
        FALSE,
        FALSE,
        FALSE,
        FALSE,
        TRUE,
        FALSE,
        FALSE)
RETURNING id, web_id, auto_cvt_bili, auto_ocr, auto_calculate, auto_exchange, auto_check_adult, save_messages, enable_coc, resp_nsfw_msg
`

func (q *Queries) CreateNewChatDefaultCfg(ctx context.Context, id int64) (chatCfg, error) {
	row := q.db.QueryRowContext(ctx, createNewChatDefaultCfg, id)
	var i chatCfg
	err := row.Scan(
		&i.ID,
		&i.WebID,
		&i.AutoCvtBili,
		&i.AutoOcr,
		&i.AutoCalculate,
		&i.AutoExchange,
		&i.AutoCheckAdult,
		&i.SaveMessages,
		&i.EnableCoc,
		&i.RespNsfwMsg,
	)
	return i, err
}

const getChatById = `-- name: getChatById :one
SELECT id, web_id, auto_cvt_bili, auto_ocr, auto_calculate, auto_exchange, auto_check_adult, save_messages, enable_coc, resp_nsfw_msg
FROM chat_cfg
WHERE id = ?
`

func (q *Queries) getChatById(ctx context.Context, id int64) (chatCfg, error) {
	row := q.db.QueryRowContext(ctx, getChatById, id)
	var i chatCfg
	err := row.Scan(
		&i.ID,
		&i.WebID,
		&i.AutoCvtBili,
		&i.AutoOcr,
		&i.AutoCalculate,
		&i.AutoExchange,
		&i.AutoCheckAdult,
		&i.SaveMessages,
		&i.EnableCoc,
		&i.RespNsfwMsg,
	)
	return i, err
}

const getChatIdByWebId = `-- name: getChatIdByWebId :one
SELECT id
FROM chat_cfg
WHERE web_id = ?
`

func (q *Queries) getChatIdByWebId(ctx context.Context, webID sql.NullInt64) (int64, error) {
	row := q.db.QueryRowContext(ctx, getChatIdByWebId, webID)
	var id int64
	err := row.Scan(&id)
	return id, err
}

const getUserById = `-- name: getUserById :one

SELECT id, updated_at, user_id, first_name, last_name, profile_update_at, profile_photo, time_zone
FROM users
WHERE user_id = ?
`

// encoding: utf-8
func (q *Queries) getUserById(ctx context.Context, userID int64) (User, error) {
	row := q.db.QueryRowContext(ctx, getUserById, userID)
	var i User
	err := row.Scan(
		&i.ID,
		&i.UpdatedAt,
		&i.UserID,
		&i.FirstName,
		&i.LastName,
		&i.ProfileUpdateAt,
		&i.ProfilePhoto,
		&i.TimeZone,
	)
	return i, err
}

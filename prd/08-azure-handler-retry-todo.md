# Azure 图像处理退避重试 TODO

- [x] 需求确认
  - [x] 完成退避重试与限流集中化 PRD。

- [ ] 限流与配置整理
  - [x] 提取 OCR/Moderator 的 RPM、最小间隔等参数为集中常量或配置。
  - [x] 保留 RateLimited 判定与缓存路径不变。

- [ ] 退避重试实现
  - [x] 为 OCR/Moderator 调用添加带抖动的指数退避，错误最多重试 3 次，返回值行为保持一致。
  - [x] 优化流程以减少重复代码，便于后续调整。

- [ ] 校验与发布
  - [x] 执行 `gofmt` 与 `go test ./...`，记录结果（均通过）。
  - [x] 根据测试结果调整或补充说明。
